<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>CRM BY BIRJI</title>
  <link rel="stylesheet" href="../css/main.css"/>
</head>
<body>

<header>
  <div class="container">
    <h1>HASHIM SOLIMAN (KR)</h1>
    <div class="buttons-container">
      <button class="button" id="logout">Logout</button>
      <button class="button" id="register">Nutzer anlegen</button>
      <button class="button" id="bestellen">Bestellungen ansehen</button>
    </div>
  </div>
</header>

<main class="container">


  <section class="assign-form">
    <div id="openLeadsContainer" role="region" aria-live="polite" aria-atomic="true">
      <label for="openLeadsCount">Offene Leads:</label>
      <span id="openLeadsCount">0</span>
    </div>
    <h2>Leads einem GP zuweisen</h2>
    <form id="beraterForm">
      <div class="form-group">
        <label for="beraterName">GPNR:</label>
        <input type="number" id="beraterName" name="beraterName" placeholder="GPNR zb 68109" autocomplete="off" required>
        <div id="beraterSuggestions" class="autocomplete-items" style="border: 1px solid #ccc; max-height: 150px; overflow-y: auto; position: absolute; background: white; z-index: 1000;"></div>
      </div>
      <div class="form-group">
        <label for="BL">BL:</label>
        <select id="BLzuweisen">
          <option value="">Alle</option>
          <option value="W">Wien</option>
          <option value="B">Burgenland</option>
          <option value="NÖ">Niederösterreich</option> <!-- statt N -->
          <option value="OÖ">Oberösterreich</option> <!-- statt OE -->
          <option value="S">Salzburg</option>   <!-- statt SZ -->
          <option value="ST">Steiermark</option>
          <option value="T">Tirol</option>
          <option value="V">Voralberg</option>
          <option value="K">Kärnten</option>
        </select>
      </div>
      <div class="form-group">
        <label for="plz">PLZ</label>
        <input type="number" id="plz" name="plz" placeholder="2232">
      </div>
      <div class="form-group">
        <label for="filterCampaignSender">Kampagne</label>
        <select id="filterCampaignSender" name="filterCampaignSender">
          <option value="alle">Alle</option>
          <option value="BK">Betriebskosten</option>
          <option value="SK">Strom</option>
          <option value="Flughafen">Flughafen</option>
        </select>
      </div>
      <div class="form-group">
        <label for="leadStatus">Status</label>
        <select id="leadStatus" name="leadStatus">
          <option value="alle">alle</option>
          <option value="offen">offen</option>
          <option value="n.err">n.err</option>
          <option value="erreicht">erreicht</option>
          <option value="fixiert">fixiert</option>
          <option value="erledigt">erledigt</option>
        </select>
      </div>
      <div class="form-group">
        <label for="anzahlLeads">Anzahl der Leads</label>
        <input type="number" id="anzahlLeads" name="anzahlLeads" placeholder="5" required min="1">
      </div>
      <button type="submit" class="button">Zuweisen</button>
    </form>
  </section>

  <div class="leads-filter">
    <div class="form-group">
      <label for="filterCampaign">Kampagne:</label>
      <select id="filterCampaign">
      </select>
    </div>
    <div class="form-group">
      <label for="filterPLZ">PLZ:</label>
      <input id="filterPLZ" type="number"/>
    </div>
    <div class="form-group">
      <label for="GPNR">GPNR:</label>
      <input id="GPNR" type="number"/>
    </div>
    <div class="form-group">
      <label for="Status">Status:</label>
      <select id="Status">
        <option value="alle">alle</option>
        <option value="offen">offen</option>
        <option value="n.err">n.err</option>
        <option value="erreicht">erreicht</option>
        <option value="fixiert">fixiert</option>
        <option value="erledigt">erledigt</option>
      </select>
    </div>
    <div class="form-group">
      <label for="BL">BL:</label>
      <select id="BL">
        <option value="">Alle</option>
        <option value="W">Wien</option>
        <option value="B">Burgenland</option>
        <option value="NÖ">Niederösterreich</option> <!-- statt N -->
        <option value="OÖ">Oberösterreich</option> <!-- statt OE -->
        <option value="S">Salzburg</option>   <!-- statt SZ -->
        <option value="ST">Steiermark</option>
        <option value="T">Tirol</option>
        <option value="V">Voralberg</option>
        <option value="K">Kärnten</option>
      </select>
    </div>
    <div class="form-group">
      <label for="nameFilter">Name enthält:</label>
      <input type="text" id="nameFilter" placeholder="Max Mustermann">
    </div>


    <div class="form-group">
      <label for="dateFilter">Datum:</label>
      <select id="dateFilter" onchange="toggleCustomDateInputs()">
        <option value="">Alle</option>
        <option value="24h">Letzte 24 Stunden</option>
        <option value="7d">Letzte 7 Tage</option>
        <option value="14d">Letzte 14 Tage</option>
        <option value="1m">Letzter Monat</option>
        <option value="custom">Benutzerdefiniert</option>
      </select>
    </div>

    <div class="form-group" id="customDateInputs" style="display: none;">
      <label for="customStart">Von:</label>
      <input type="date" id="customStart" />
      <label for="customEnd">Bis:</label>
      <input type="date" id="customEnd" />
    </div>

    <div class="form-group filter-button-wrapper">
      <label>&nbsp;</label>
      <button id="applyFilter" class="button">Filtern</button>
    </div>
  </div>

  <section class="leads-box-wrapper">
    <div class="leads-count">
      <p><strong>Anzahl aller Leads:</strong> <span id="remainingLeads">0</span></p>
    </div>

    <div class="leads-table-wrapper">

      <table class="leads-table">
        <thead>
        <tr>
          <th>ID</th>
          <th>Datum</th>
          <th>Kampagne</th>
          <th>Name</th>
          <th>BL</th>
          <th>PLZ</th>
          <th>Partner</th>
          <th>Status</th>
        </tr>
        </thead>
        <tbody id="leadsTableBody"></tbody>
      </table>
    </div>
  </section>

</main>

<footer>
  <div class="container buttons-container">
    <button class="button" id="import">Importieren</button>
  </div>
</footer>


<script src="../Js/Kamps.js"></script>
<script src="../Js/apply_filters.js"></script>
<script src="../Js/zuweisen.js"></script>
<script src="../Js/logout.js"></script>
<script src="../Js/GPNR_HELPER.js"></script>
<script src="../Js/swappagestoregister.js"></script>
</body>
</html>
